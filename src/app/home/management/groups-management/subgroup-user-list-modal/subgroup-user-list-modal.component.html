<h1 mat-dialog-title>{{'MANAGEMENT_GROUPS_INFO_GROUP_MODAL_TITLE' | translate}}{{subgroupName}}</h1>
<div mat-dialog-content>

  <div *ngIf="subgroup != null">
    <div class="row">
      <div class="col-12">
        <mat-form-field class="col-12">
          <input matInput (keyup)="applyFilter($event.target.value)"
                 placeholder="{{'MANAGEMENT_USERS_SEARCH' | translate}}">
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <table mat-table [dataSource]="dataSource" matSort class="col-12">
        <!-- Role Column -->
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef
              mat-sort-header> {{'MANAGEMENT_GROUPS_INFO_GROUP_MODAL_TABLE_HEADER_ROLE' | translate}} </th>
          <td mat-cell *matCellDef="let user"> {{user.role}} </td>
        </ng-container>

        <!-- Firstname Column -->
        <ng-container matColumnDef="firstname">
          <th mat-header-cell *matHeaderCellDef
              mat-sort-header> {{'MANAGEMENT_USERS_FIRSTNAME' | translate}} </th>
          <td mat-cell *matCellDef="let user"> {{user.firstname}} </td>
        </ng-container>

        <!-- Surname Column -->
        <ng-container matColumnDef="surname">
          <th mat-header-cell *matHeaderCellDef
              mat-sort-header> {{'MANAGEMENT_USERS_SURNAME' | translate}} </th>
          <td mat-cell *matCellDef="let user"> {{user.surname}} </td>
        </ng-container>

        <!-- Action movie Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> {{'MANAGEMENT_USERS_ACTIONS' | translate}} </th>
          <td mat-cell *matCellDef="let user">
            <button mat-icon-button color="accent" (click)="onEditRole(user)"
                    matTooltip="{{'MANAGEMENT_GROUPS_INFO_SUBGROUP_MDOAL_TABLE_ACTION_EDIT' | translate}}">
              <mat-icon>create</mat-icon>
            </button>

            <button mat-icon-button color="warn" (click)="onRemoveUserFromSubgroup(user.id)"
                    matTooltip="{{'MANAGEMENT_GROUPS_INFO_SUBGROUP_MODAL_TABLE_ACTION_REMOVE' | translate}}">
              <mat-icon>remove_circle</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
    </div>

    <mat-progress-bar *ngIf="sendingRequest" mode="indeterminate"></mat-progress-bar>
  </div>

  <div *ngIf="subgroup == null">
    <div class="row">
      <div class="col-12">
        <mat-spinner style="margin: auto"></mat-spinner>
      </div>
    </div>
  </div>

</div>
<div mat-dialog-actions style="margin-top: 15px">
  <button mat-button [mat-dialog-close]>{{'CLOSE' | translate}}</button>
</div>
